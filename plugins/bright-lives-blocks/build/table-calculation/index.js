(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,s=window.React,l=window.wp.primitives,a=(0,s.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,s.createElement)(l.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),n=window.wp.components,c="tabular-nums slashed-zero font-bold font-mono",r="table-auto w-full text-sm",i="text-left",o="pb-3",d="border-t border-primary-500",m="py-3",h="py-3 text-right align-middle pt-6 w-28",u="border-t-2 border-primary-500 mt-4",x="align-middle py-4 font-bold",j="align-middle py-3 text-right w-28",b=e=>e.toLocaleString("nl-NL",{style:"currency",currency:"EUR"}).replace(",00",",-Â "),w=window.ReactJSXRuntime;window.wp.blockEditor;const N=JSON.parse('{"UU":"bright-lives/table-calculation"}');(0,e.registerBlockType)(N.UU,{edit:function({attributes:e,setAttributes:s}){const l=(t,l,a)=>{const n=[...e.rows];n[t]={...n[t],[l]:a},s({rows:n})},N=e.rows.reduce(((e,t)=>e+t.amount*t.unitPrice),0);return s({totalPrice:N}),(0,w.jsxs)("table",{className:r,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:i,children:[(0,w.jsx)("th",{className:o,children:"Soort"}),(0,w.jsx)("th",{className:o,children:"Artikelen"}),(0,w.jsx)("th",{className:o,children:"Aantal"}),(0,w.jsx)("th",{className:o,children:"Stuk prijs"}),(0,w.jsx)("th",{className:`${o} text-right`,children:"Subtotaal"})]})}),(0,w.jsxs)("tbody",{children:[e.rows.map(((e,s)=>(0,w.jsxs)("tr",{className:d,children:[(0,w.jsx)("td",{className:m,children:(0,w.jsx)(n.TextControl,{label:(0,t.__)("Kind","custom-gutenberg-blocks"),value:e.kind,onChange:e=>l(s,"kind",e)})}),(0,w.jsx)("td",{className:m,children:(0,w.jsx)(n.TextControl,{label:(0,t.__)("Item","custom-gutenberg-blocks"),value:e.item,onChange:e=>l(s,"item",e)})}),(0,w.jsx)("td",{className:m,children:(0,w.jsx)(n.TextControl,{label:(0,t.__)("Amount","custom-gutenberg-blocks"),type:"number",value:e.amount,onChange:e=>l(s,"amount",e)})}),(0,w.jsx)("td",{className:`${m} tabular-nums`,children:(0,w.jsx)(n.TextControl,{label:(0,t.__)("Unit price","custom-gutenberg-blocks"),type:"number",value:e.unitPrice,onChange:e=>l(s,"unitPrice",e)})}),(0,w.jsx)("td",{className:`${h} ${c}`,children:b(e.amount*e.unitPrice)})]}))),(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colSpan:5,children:(0,w.jsx)(n.Button,{onClick:()=>{s({rows:[...e.rows,{kind:"",item:"",amount:0,unitPrice:0}]})},className:"h-10 w-full text-center shadow-custom-inset !justify-center",icon:(0,w.jsx)(n.Icon,{icon:a}),children:(0,t.__)("Add row","custom-gutenberg-blocks")})})}),(0,w.jsxs)("tr",{className:u,children:[(0,w.jsx)("td",{colSpan:4,className:x,children:"Totaal"}),(0,w.jsx)("td",{className:`${j} ${c}`,children:b(N)})]})]})]})},save:function({attributes:e}){const{rows:t,totalPrice:s}=e;return(0,w.jsxs)("table",{className:r,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:i,children:[(0,w.jsx)("th",{className:o,children:"Soort"}),(0,w.jsx)("th",{className:o,children:"Artikelen"}),(0,w.jsx)("th",{className:o,children:"Aantal"}),(0,w.jsx)("th",{className:o,children:"Stuk prijs"}),(0,w.jsx)("th",{className:`${o} text-right`,children:"Subtotaal"})]})}),(0,w.jsxs)("tbody",{children:[t.map(((e,t)=>(0,w.jsxs)("tr",{className:d,children:[(0,w.jsx)("td",{className:m,children:e.kind}),(0,w.jsx)("td",{className:m,children:e.item}),(0,w.jsx)("td",{className:m,children:e.amount}),(0,w.jsx)("td",{className:m,children:e.unitPrice}),(0,w.jsx)("td",{className:h,children:b(e.amount*e.unitPrice)})]},t))),(0,w.jsxs)("tr",{className:u,children:[(0,w.jsx)("td",{colSpan:4,className:x,children:"Totaal"}),(0,w.jsx)("td",{className:`${j} ${c}`,children:b(s)})]})]})]})}})})();